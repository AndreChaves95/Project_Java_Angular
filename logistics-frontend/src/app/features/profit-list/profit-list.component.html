<mat-card class="p-4">
  <h2>Total Profits of All Shipments</h2>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <table mat-table [dataSource]="total ? [total] : []" class="mat-elevation-z2 w-100">
    <!-- Table header & rows -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    <!-- Income -->
    <ng-container matColumnDef="totalIncome">
      <th mat-header-cell *matHeaderCellDef> Total Income </th>
      <td mat-cell *matCellDef="let row">{{ row.totalIncome | number:'1.2-2' }}</td>
    </ng-container>
    <!-- Cost -->
    <ng-container matColumnDef="totalCost">
      <th mat-header-cell *matHeaderCellDef> Total Cost </th>
      <td mat-cell *matCellDef="let row">{{ row.totalCost | number:'1.2-2' }}</td>
    </ng-container>
    <!-- Profit -->
    <ng-container matColumnDef="profitValue">
      <th mat-header-cell *matHeaderCellDef> Total Profits/Losses </th>
      <td mat-cell *matCellDef="let row">
        <span [ngClass]="{ 'text-success': row.profitValue >= 0, 'text-danger': row.profitValue < 0 }">
          {{ row.profitValue | number:'1.2-2' }}
        </span>
      </td>
    </ng-container>
  </table>

  <div *ngIf="!total" class="mt-3 text-muted">
    No shipments found.
  </div>
</mat-card>
